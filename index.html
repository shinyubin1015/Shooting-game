<!doctype html>
<html lang="ko" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tactical Strike FPS</title>
  
  <!-- SDK -->
  <script src="/_sdk/element_sdk.js"></script>
  <script src="/_sdk/data_sdk.js"></script>
  
  <!-- CSS Files -->
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/animations.css">
  <script src="https://cdn.tailwindcss.com"></script>
 </head>
 <body class="h-full w-full">
  <div id="app-wrapper" class="h-full w-full relative"><!-- Game Canvas -->
   <canvas id="gameCanvas" class="w-full h-full block"></canvas><!-- Damage Flash Effect -->
   <div id="damageFlash" class="absolute inset-0 bg-red-600 pointer-events-none" style="opacity: 0; z-index: 5;"></div><!-- HUD Overlay -->
   <div id="hud" class="absolute top-0 left-0 w-full h-full pointer-events-none" style="z-index: 10;"><!-- Top Left - Game Title & Pause Button -->
    <div class="absolute top-2 left-2 flex gap-2">
     <div class="bg-black bg-opacity-80 px-3 py-2 rounded-lg border border-cyan-400" style="backdrop-filter: blur(10px);">
      <div class="text-cyan-400 text-sm font-bold tracking-wider" id="gameTitle">
       TACTICAL STRIKE
      </div>
     </div><button id="pauseBtn" class="pointer-events-auto cursor-pointer bg-black bg-opacity-80 px-3 py-2 rounded-lg border border-yellow-400 hover:bg-yellow-400 hover:bg-opacity-20 transition-all" style="backdrop-filter: blur(10px);">
      <div class="text-yellow-400 text-sm font-bold">
       ⏸ 일시정지
      </div></button>
    </div><!-- Top Right - Score & Kills -->
    <div class="absolute top-2 right-2">
     <div class="bg-black bg-opacity-80 px-3 py-1 rounded-lg border border-yellow-400 text-center mb-1" style="backdrop-filter: blur(10px);">
      <div class="text-yellow-400 text-xs tracking-wider">
       💰 코인
      </div>
      <div class="text-white text-xl font-bold" id="coinDisplay">
       0
      </div>
     </div>
     <div class="bg-black bg-opacity-80 px-3 py-1 rounded-lg border border-orange-400 text-center mb-1" style="backdrop-filter: blur(10px);">
      <div class="text-orange-400 text-xs tracking-wider">
       처치
      </div>
      <div class="text-white text-2xl font-bold" id="killCount">
       0
      </div>
     </div>
     <div class="bg-black bg-opacity-80 px-3 py-1 rounded-lg border border-green-400 text-center" style="backdrop-filter: blur(10px);">
      <div class="text-green-400 text-xs tracking-wider">
       레벨
      </div>
      <div class="text-white text-2xl font-bold" id="levelDisplay">
       1
      </div>
     </div>
    </div><!-- Bottom Left - Controls -->
    <div class="absolute bottom-2 left-2">
     <div class="bg-black bg-opacity-80 px-2 py-1 rounded-lg border border-gray-600 text-gray-300 text-xs tracking-wider" id="controlsText">
      WASD: 이동 | 마우스: 조준 | 클릭: 발사 | R: 재장전
     </div>
    </div><!-- Bottom Center - Weapon Info & Health -->
    <div class="absolute bottom-2 left-1/2 transform -translate-x-1/2">
     <div class="bg-black bg-opacity-90 px-4 py-3 rounded-lg border border-purple-500" style="backdrop-filter: blur(10px);"><!-- Health Bar -->
      <div class="flex items-center justify-center gap-2 mb-2 pb-2 border-b border-gray-700">
       <div class="text-cyan-400 text-xs tracking-wider">
        HP
       </div>
       <div class="text-white text-xl font-bold" id="healthDisplay">
        100
       </div>
       <div id="healthBar" class="w-32 h-2.5 bg-gray-700 rounded-full overflow-hidden">
        <div id="healthFill" class="h-full bg-gradient-to-r from-cyan-400 to-cyan-600 transition-all duration-300" style="width: 100%;"></div>
       </div>
      </div><!-- Weapon Info -->
      <div class="text-center">
       <div class="text-purple-400 text-xs tracking-widest mb-1" id="weaponName">
        AR-47 PHANTOM
       </div>
       <div class="flex items-baseline justify-center gap-1"><span class="text-white text-2xl font-bold" id="currentAmmo">30</span> <span class="text-gray-500 text-lg font-bold">/</span> <span class="text-gray-400 text-xl font-bold" id="reserveAmmo">120</span>
       </div>
      </div>
      <div id="reloadText" class="text-yellow-400 text-xs text-center tracking-wider hidden mt-1">
       재장전 중...
      </div>
      <!-- 재장전 진행 바 -->
      <div id="reloadBarContainer" class="hidden mt-2">
       <div class="w-full h-1.5 bg-gray-700 rounded-full overflow-hidden">
        <div id="reloadBar" class="h-full bg-gradient-to-r from-yellow-400 to-orange-500 transition-all duration-100" style="width: 0%;"></div>
       </div>
      </div>
     </div>
    </div><!-- Crosshair -->
    <div id="crosshair" class="absolute pointer-events-none" style="left: 50%; top: 50%; transform: translate(-50%, -50%);">
     <div class="relative w-6 h-6">
      <div class="absolute bg-cyan-400 shadow-lg" style="width: 8px; height: 1px; left: 50%; top: 50%; transform: translate(-50%, -50%); box-shadow: 0 0 6px rgba(34, 211, 238, 0.8);"></div>
      <div class="absolute bg-cyan-400 shadow-lg" style="width: 1px; height: 8px; left: 50%; top: 50%; transform: translate(-50%, -50%); box-shadow: 0 0 6px rgba(34, 211, 238, 0.8);"></div>
     </div>
    </div><!-- Hit Markers Container -->
    <div id="hitMarkers" class="absolute inset-0 pointer-events-none"></div>
   </div><!-- Weapon Shop Screen -->
   <div id="weaponShopScreen" class="hidden absolute top-0 left-0 w-full h-full bg-black bg-opacity-95 overflow-y-auto" style="z-index: 20;">
    <div class="flex items-center justify-center min-h-full py-12">
     <div class="bg-gradient-to-br from-yellow-900 to-black p-12 rounded-2xl border-2 border-yellow-500 text-center max-w-6xl" style="backdrop-filter: blur(20px);">
      <div class="text-yellow-400 text-6xl font-bold mb-4 tracking-wider">
       🏪 무기 상점
      </div>
      <div class="text-gray-300 text-2xl mb-2">
       보유 코인: <span class="text-yellow-400 font-bold text-4xl" id="shopCoinsDisplay">0</span> 💰
      </div>
      <div class="text-gray-400 text-lg mb-8">
       적 20마리마다 10코인 획득!
      </div>
      <div class="grid grid-cols-3 gap-6 mb-8"><!-- Burst Rifle - 300 -->
       <div class="weapon-shop-item relative bg-gradient-to-br from-blue-900 to-blue-700 p-6 rounded-xl border-2 border-blue-400">
        <div class="text-blue-400 text-3xl font-bold mb-2">
         🔫 점사총
        </div>
        <div class="text-white text-base mb-2">
         3발 빠른 점사!
        </div>
        <div class="text-gray-300 text-sm mb-1">
         탄창: 24발
        </div>
        <div class="text-gray-300 text-sm mb-3">
         연사 속도: 빠름
        </div>
        <div class="text-yellow-400 text-2xl font-bold mb-3">
         💰 300
        </div><button class="buy-weapon-btn pointer-events-auto cursor-pointer bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded-lg text-lg font-bold transition-all duration-300 w-full" data-weapon="burst" data-cost="300"> 구매하기 </button>
        <div class="locked-overlay hidden absolute inset-0 bg-black bg-opacity-70 rounded-xl flex items-center justify-center">
         <div class="text-green-400 text-2xl font-bold">
          ✓ 구매 완료!
         </div>
        </div>
       </div><!-- Plasma Gun - 400 -->
       <div class="weapon-shop-item relative bg-gradient-to-br from-teal-900 to-teal-700 p-6 rounded-xl border-2 border-teal-400">
        <div class="text-teal-400 text-3xl font-bold mb-2">
         ⚡ 플라즈마총
        </div>
        <div class="text-white text-base mb-2">
         에너지 연사!
        </div>
        <div class="text-gray-300 text-sm mb-1">
         탄창: 35발
        </div>
        <div class="text-gray-300 text-sm mb-3">
         연사 속도: 빠름
        </div>
        <div class="text-yellow-400 text-2xl font-bold mb-3">
         💰 400
        </div><button class="buy-weapon-btn pointer-events-auto cursor-pointer bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded-lg text-lg font-bold transition-all duration-300 w-full" data-weapon="plasma" data-cost="400"> 구매하기 </button>
        <div class="locked-overlay hidden absolute inset-0 bg-black bg-opacity-70 rounded-xl flex items-center justify-center">
         <div class="text-green-400 text-2xl font-bold">
          ✓ 구매 완료!
         </div>
        </div>
       </div><!-- Double Shot - 500 -->
       <div class="weapon-shop-item relative bg-gradient-to-br from-pink-900 to-pink-700 p-6 rounded-xl border-2 border-pink-400">
        <div class="text-pink-400 text-3xl font-bold mb-2">
         🔫 2연발 총
        </div>
        <div class="text-white text-base mb-2">
         한 번에 2발 발사!
        </div>
        <div class="text-gray-300 text-sm mb-1">
         탄창: 20발
        </div>
        <div class="text-gray-300 text-sm mb-3">
         연사 속도: 보통
        </div>
        <div class="text-yellow-400 text-2xl font-bold mb-3">
         💰 500
        </div><button class="buy-weapon-btn pointer-events-auto cursor-pointer bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded-lg text-lg font-bold transition-all duration-300 w-full" data-weapon="doubleshot" data-cost="500"> 구매하기 </button>
        <div class="locked-overlay hidden absolute inset-0 bg-black bg-opacity-70 rounded-xl flex items-center justify-center">
         <div class="text-green-400 text-2xl font-bold">
          ✓ 구매 완료!
         </div>
        </div>
       </div><!-- Sniper - 600 -->
       <div class="weapon-shop-item relative bg-gradient-to-br from-green-900 to-green-700 p-6 rounded-xl border-2 border-green-400">
        <div class="text-green-400 text-3xl font-bold mb-2">
         🎯 저격총
        </div>
        <div class="text-white text-base mb-2">
         5배 데미지!
        </div>
        <div class="text-gray-300 text-sm mb-1">
         탄창: 5발
        </div>
        <div class="text-gray-300 text-sm mb-3">
         연사 속도: 매우 느림
        </div>
        <div class="text-yellow-400 text-2xl font-bold mb-3">
         💰 600
        </div><button class="buy-weapon-btn pointer-events-auto cursor-pointer bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded-lg text-lg font-bold transition-all duration-300 w-full" data-weapon="sniper" data-cost="600"> 구매하기 </button>
        <div class="locked-overlay hidden absolute inset-0 bg-black bg-opacity-70 rounded-xl flex items-center justify-center">
         <div class="text-green-400 text-2xl font-bold">
          ✓ 구매 완료!
         </div>
        </div>
       </div><!-- Triple Shot - 700 -->
       <div class="weapon-shop-item relative bg-gradient-to-br from-purple-900 to-purple-700 p-6 rounded-xl border-2 border-purple-400">
        <div class="text-purple-400 text-3xl font-bold mb-2">
         🔫 3연발 총
        </div>
        <div class="text-white text-base mb-2">
         한 번에 3발 발사!
        </div>
        <div class="text-gray-300 text-sm mb-1">
         탄창: 18발
        </div>
        <div class="text-gray-300 text-sm mb-3">
         연사 속도: 보통
        </div>
        <div class="text-yellow-400 text-2xl font-bold mb-3">
         💰 700
        </div><button class="buy-weapon-btn pointer-events-auto cursor-pointer bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded-lg text-lg font-bold transition-all duration-300 w-full" data-weapon="tripleshot" data-cost="700"> 구매하기 </button>
        <div class="locked-overlay hidden absolute inset-0 bg-black bg-opacity-70 rounded-xl flex items-center justify-center">
         <div class="text-green-400 text-2xl font-bold">
          ✓ 구매 완료!
         </div>
        </div>
       </div><!-- Laser Gun - 800 -->
       <div class="weapon-shop-item relative bg-gradient-to-br from-emerald-900 to-emerald-700 p-6 rounded-xl border-2 border-emerald-400">
        <div class="text-emerald-400 text-3xl font-bold mb-2">
         💚 레이저건
        </div>
        <div class="text-white text-base mb-2">
         관통 레이저!
        </div>
        <div class="text-gray-300 text-sm mb-1">
         탄창: 30발
        </div>
        <div class="text-gray-300 text-sm mb-3">
         연사 속도: 보통
        </div>
        <div class="text-yellow-400 text-2xl font-bold mb-3">
         💰 800
        </div><button class="buy-weapon-btn pointer-events-auto cursor-pointer bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded-lg text-lg font-bold transition-all duration-300 w-full" data-weapon="laser" data-cost="800"> 구매하기 </button>
        <div class="locked-overlay hidden absolute inset-0 bg-black bg-opacity-70 rounded-xl flex items-center justify-center">
         <div class="text-green-400 text-2xl font-bold">
          ✓ 구매 완료!
         </div>
        </div>
       </div><!-- Minigun - 900 -->
       <div class="weapon-shop-item relative bg-gradient-to-br from-orange-900 to-orange-700 p-6 rounded-xl border-2 border-orange-400">
        <div class="text-orange-400 text-3xl font-bold mb-2">
         🔥 미니건
        </div>
        <div class="text-white text-base mb-2">
         초고속 연사!
        </div>
        <div class="text-gray-300 text-sm mb-1">
         탄창: 100발
        </div>
        <div class="text-gray-300 text-sm mb-3">
         연사 속도: 매우 빠름
        </div>
        <div class="text-yellow-400 text-2xl font-bold mb-3">
         💰 900
        </div><button class="buy-weapon-btn pointer-events-auto cursor-pointer bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded-lg text-lg font-bold transition-all duration-300 w-full" data-weapon="minigun" data-cost="900"> 구매하기 </button>
        <div class="locked-overlay hidden absolute inset-0 bg-black bg-opacity-70 rounded-xl flex items-center justify-center">
         <div class="text-green-400 text-2xl font-bold">
          ✓ 구매 완료!
         </div>
        </div>
       </div><!-- Rocket Launcher - 1000 -->
       <div class="weapon-shop-item relative bg-gradient-to-br from-rose-900 to-rose-700 p-6 rounded-xl border-2 border-rose-400">
        <div class="text-rose-400 text-3xl font-bold mb-2">
         💥 로켓 런처
        </div>
        <div class="text-white text-base mb-2">
         폭발 범위 공격!
        </div>
        <div class="text-gray-300 text-sm mb-1">
         탄창: 4발
        </div>
        <div class="text-gray-300 text-sm mb-3">
         연사 속도: 느림
        </div>
        <div class="text-yellow-400 text-2xl font-bold mb-3">
         💰 1000
        </div><button class="buy-weapon-btn pointer-events-auto cursor-pointer bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded-lg text-lg font-bold transition-all duration-300 w-full" data-weapon="rocket" data-cost="1000"> 구매하기 </button>
        <div class="locked-overlay hidden absolute inset-0 bg-black bg-opacity-70 rounded-xl flex items-center justify-center">
         <div class="text-green-400 text-2xl font-bold">
          ✓ 구매 완료!
         </div>
        </div>
       </div><!-- Railgun - 1200 -->
       <div class="weapon-shop-item relative bg-gradient-to-br from-indigo-900 to-indigo-700 p-6 rounded-xl border-2 border-indigo-400">
        <div class="text-indigo-400 text-3xl font-bold mb-2">
         ⚡ 레일건
        </div>
        <div class="text-white text-base mb-2">
         즉사 관통탄!
        </div>
        <div class="text-gray-300 text-sm mb-1">
         탄창: 3발
        </div>
        <div class="text-gray-300 text-sm mb-3">
         연사 속도: 매우 느림
        </div>
        <div class="text-yellow-400 text-2xl font-bold mb-3">
         💰 1200
        </div><button class="buy-weapon-btn pointer-events-auto cursor-pointer bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded-lg text-lg font-bold transition-all duration-300 w-full" data-weapon="railgun" data-cost="1200"> 구매하기 </button>
        <div class="locked-overlay hidden absolute inset-0 bg-black bg-opacity-70 rounded-xl flex items-center justify-center">
         <div class="text-green-400 text-2xl font-bold">
          ✓ 구매 완료!
         </div>
        </div>
       </div>
      </div><button id="closeShopBtn" class="bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-500 hover:to-gray-600 text-white px-10 py-4 rounded-lg text-2xl font-bold pointer-events-auto cursor-pointer transition-all duration-300 border-2 border-gray-500"> ← 돌아가기 </button>
     </div>
    </div>
   </div><!-- Upgrade Screen -->
   <div id="upgradeScreen" class="hidden absolute top-0 left-0 w-full h-full bg-black bg-opacity-90 overflow-y-auto" style="z-index: 20;">
    <div class="flex items-center justify-center min-h-full py-12">
     <div class="bg-gradient-to-br from-purple-900 to-black p-12 rounded-2xl border-2 border-purple-500 text-center max-w-6xl" style="backdrop-filter: blur(20px);">
      <div class="text-purple-400 text-7xl font-bold mb-4 tracking-wider" style="text-shadow: 0 0 20px rgba(168, 85, 247, 0.5);">
       레벨 업!
      </div>
      <div class="text-gray-300 text-3xl mb-8">
       무기를 선택하세요
      </div>
      <div id="weaponSelection" class="grid grid-cols-3 gap-6 mb-8"><!-- Weapons will be dynamically inserted here -->
      </div>
     </div>
    </div>
   </div><!-- Pause Menu Screen -->
   <div id="pauseMenuScreen" class="hidden absolute top-0 left-0 w-full h-full bg-black bg-opacity-90 overflow-y-auto" style="z-index: 20;">
    <div class="flex items-center justify-center min-h-full py-12">
     <div class="bg-gradient-to-br from-yellow-900 to-black p-12 rounded-2xl border-2 border-yellow-500 text-center max-w-2xl" style="backdrop-filter: blur(20px);">
      <div class="text-yellow-400 text-7xl font-bold mb-6 tracking-wider" style="text-shadow: 0 0 30px rgba(234, 179, 8, 0.8);">
       일시정지
      </div>
      <div class="text-gray-300 text-2xl mb-8">
       게임이 일시정지되었습니다
      </div><!-- Current Stats -->
      <div class="bg-black bg-opacity-50 rounded-lg p-6 mb-8 border border-gray-700">
       <div class="text-cyan-400 text-2xl font-bold mb-4">
        현재 상황
       </div>
       <div class="grid grid-cols-2 gap-4 text-gray-300 text-lg">
        <div>
         <div class="text-yellow-400">
          처치
         </div>
         <div class="text-white text-3xl font-bold" id="pauseKills">
          0
         </div>
        </div>
        <div>
         <div class="text-green-400">
          레벨
         </div>
         <div class="text-white text-3xl font-bold" id="pauseLevel">
          1
         </div>
        </div>
        <div>
         <div class="text-cyan-400">
          체력
         </div>
         <div class="text-white text-3xl font-bold" id="pauseHealth">
          100
         </div>
        </div>
        <div>
         <div class="text-purple-400">
          코인
         </div>
         <div class="text-white text-3xl font-bold" id="pauseCoins">
          0
         </div>
        </div>
       </div>
      </div>
      <div class="flex flex-col gap-4"><button id="resumeBtn" class="bg-gradient-to-r from-green-500 to-green-600 hover:from-green-400 hover:to-green-500 text-white px-12 py-4 rounded-lg text-3xl font-bold pointer-events-auto cursor-pointer transition-all duration-300 border-2 border-green-400" style="box-shadow: 0 0 30px rgba(34, 197, 94, 0.6);"> ▶ 이어하기 </button> <button id="restartFromPauseBtn" class="bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-400 hover:to-blue-500 text-white px-12 py-4 rounded-lg text-3xl font-bold pointer-events-auto cursor-pointer transition-all duration-300 border-2 border-cyan-400" style="box-shadow: 0 0 30px rgba(34, 211, 238, 0.6);"> 🔄 재시작 </button> <button id="homeFromPauseBtn" class="bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-400 hover:to-purple-500 text-white px-12 py-4 rounded-lg text-3xl font-bold pointer-events-auto cursor-pointer transition-all duration-300 border-2 border-purple-400" style="box-shadow: 0 0 30px rgba(168, 85, 247, 0.6);"> 🏠 메인 페이지로 </button>
      </div>
     </div>
    </div>
   </div><!-- Customization Screen -->
   <div id="customizeScreen" class="hidden absolute top-0 left-0 w-full h-full bg-black bg-opacity-95 overflow-y-auto" style="z-index: 20;">
    <div class="flex items-center justify-center min-h-full py-12">
     <div class="bg-gradient-to-br from-purple-900 to-black p-12 rounded-2xl border-2 border-purple-500 text-center max-w-4xl" style="backdrop-filter: blur(20px);">
      <div class="text-purple-400 text-6xl font-bold mb-4 tracking-wider">
       🎨 캐릭터 꾸미기
      </div>
      <div class="text-gray-300 text-2xl mb-8">
       나만의 로봇을 만들어보세요!
      </div><!-- Preview Canvas -->
      <div class="bg-gray-900 rounded-xl p-8 mb-8 border-2 border-cyan-400">
       <canvas id="previewCanvas" width="400" height="300" class="mx-auto rounded-lg"></canvas>
      </div><!-- Main Color Selection -->
      <div class="mb-8">
       <div class="text-cyan-400 text-3xl font-bold mb-4">
        메인 컬러 (몸체/바이저/무기 하이라이트)
       </div>
       <div class="flex gap-4 justify-center flex-wrap"><button class="color-btn pointer-events-auto cursor-pointer w-20 h-20 rounded-lg border-4 border-white hover:scale-110 transition-transform" data-color="#22d3ee" data-type="main" style="background: #22d3ee;"></button> <button class="color-btn pointer-events-auto cursor-pointer w-20 h-20 rounded-lg border-4 border-gray-600 hover:border-white hover:scale-110 transition-all" data-color="#3b82f6" data-type="main" style="background: #3b82f6;"></button> <button class="color-btn pointer-events-auto cursor-pointer w-20 h-20 rounded-lg border-4 border-gray-600 hover:border-white hover:scale-110 transition-all" data-color="#a855f7" data-type="main" style="background: #a855f7;"></button> <button class="color-btn pointer-events-auto cursor-pointer w-20 h-20 rounded-lg border-4 border-gray-600 hover:border-white hover:scale-110 transition-all" data-color="#ef4444" data-type="main" style="background: #ef4444;"></button> <button class="color-btn pointer-events-auto cursor-pointer w-20 h-20 rounded-lg border-4 border-gray-600 hover:border-white hover:scale-110 transition-all" data-color="#f59e0b" data-type="main" style="background: #f59e0b;"></button> <button class="color-btn pointer-events-auto cursor-pointer w-20 h-20 rounded-lg border-4 border-gray-600 hover:border-white hover:scale-110 transition-all" data-color="#10b981" data-type="main" style="background: #10b981;"></button> <button class="color-btn pointer-events-auto cursor-pointer w-20 h-20 rounded-lg border-4 border-gray-600 hover:border-white hover:scale-110 transition-all" data-color="#ec4899" data-type="main" style="background: #ec4899;"></button> <button class="color-btn pointer-events-auto cursor-pointer w-20 h-20 rounded-lg border-4 border-gray-600 hover:border-white hover:scale-110 transition-all" data-color="#fbbf24" data-type="main" style="background: #fbbf24;"></button>
       </div>
      </div><!-- Secondary Color Selection -->
      <div class="mb-8">
       <div class="text-yellow-400 text-3xl font-bold mb-4">
        보조 컬러 (헬멧/어깨/무기)
       </div>
       <div class="flex gap-4 justify-center flex-wrap"><button class="color-btn pointer-events-auto cursor-pointer w-20 h-20 rounded-lg border-4 border-white hover:scale-110 transition-transform" data-color="#1e293b" data-type="secondary" style="background: #1e293b;"></button> <button class="color-btn pointer-events-auto cursor-pointer w-20 h-20 rounded-lg border-4 border-gray-600 hover:border-white hover:scale-110 transition-all" data-color="#475569" data-type="secondary" style="background: #475569;"></button> <button class="color-btn pointer-events-auto cursor-pointer w-20 h-20 rounded-lg border-4 border-gray-600 hover:border-white hover:scale-110 transition-all" data-color="#7c2d12" data-type="secondary" style="background: #7c2d12;"></button> <button class="color-btn pointer-events-auto cursor-pointer w-20 h-20 rounded-lg border-4 border-gray-600 hover:border-white hover:scale-110 transition-all" data-color="#1e3a8a" data-type="secondary" style="background: #1e3a8a;"></button> <button class="color-btn pointer-events-auto cursor-pointer w-20 h-20 rounded-lg border-4 border-gray-600 hover:border-white hover:scale-110 transition-all" data-color="#581c87" data-type="secondary" style="background: #581c87;"></button> <button class="color-btn pointer-events-auto cursor-pointer w-20 h-20 rounded-lg border-4 border-gray-600 hover:border-white hover:scale-110 transition-all" data-color="#064e3b" data-type="secondary" style="background: #064e3b;"></button> <button class="color-btn pointer-events-auto cursor-pointer w-20 h-20 rounded-lg border-4 border-gray-600 hover:border-white hover:scale-110 transition-all" data-color="#78350f" data-type="secondary" style="background: #78350f;"></button> <button class="color-btn pointer-events-auto cursor-pointer w-20 h-20 rounded-lg border-4 border-gray-600 hover:border-white hover:scale-110 transition-all" data-color="#334155" data-type="secondary" style="background: #334155;"></button>
       </div>
      </div>
      <div class="flex gap-4 justify-center"><button id="saveCustomizationBtn" class="bg-gradient-to-r from-green-500 to-green-600 hover:from-green-400 hover:to-green-500 text-white px-10 py-4 rounded-lg text-2xl font-bold pointer-events-auto cursor-pointer transition-all duration-300 border-2 border-green-400"> ✓ 저장하기 </button> <button id="backToMenuBtn" class="bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-500 hover:to-gray-600 text-white px-10 py-4 rounded-lg text-2xl font-bold pointer-events-auto cursor-pointer transition-all duration-300 border-2 border-gray-500"> ← 뒤로 가기 </button>
      </div>
     </div>
    </div>
   </div><!-- Difficulty Selection Screen -->
   <div id="difficultyScreen" class="hidden absolute top-0 left-0 w-full h-full bg-black bg-opacity-95 overflow-y-auto" style="z-index: 20;">
    <div class="flex items-center justify-center min-h-full py-12">
     <div class="bg-gradient-to-br from-purple-900 to-black p-12 rounded-2xl border-2 border-purple-500 text-center max-w-4xl" style="backdrop-filter: blur(20px);">
      <div class="text-purple-400 text-7xl font-bold mb-6 tracking-wider" style="text-shadow: 0 0 30px rgba(168, 85, 247, 0.8);">
       난이도 선택
      </div>
      <div class="text-gray-300 text-2xl mb-12">
       자신에게 맞는 난이도를 선택하세요
      </div>
      <div class="grid grid-cols-1 gap-6 mb-8"><!-- Easy Mode --> <button id="easyModeBtn" class="difficulty-btn pointer-events-auto cursor-pointer bg-gradient-to-r from-green-600 to-green-700 hover:from-green-500 hover:to-green-600 p-8 rounded-xl border-2 border-green-400 transition-all duration-300 hover:scale-105" style="box-shadow: 0 0 30px rgba(34, 197, 94, 0.4);">
        <div class="text-green-400 text-5xl font-bold mb-3">
         😊 이지 모드
        </div>
        <div class="text-white text-xl mb-3">
         초보자에게 추천
        </div>
        <div class="grid grid-cols-2 gap-4 text-left text-gray-300 text-lg">
         <div>
          • 적 체력: 낮음
         </div>
         <div>
          • 적 이동 속도: 느림
         </div>
         <div>
          • 적 공격력: 약함
         </div>
         <div>
          • 적 생성 속도: 느림
         </div>
        </div></button> <!-- Normal Mode --> <button id="normalModeBtn" class="difficulty-btn pointer-events-auto cursor-pointer bg-gradient-to-r from-cyan-600 to-blue-700 hover:from-cyan-500 hover:to-blue-600 p-8 rounded-xl border-2 border-cyan-400 transition-all duration-300 hover:scale-105" style="box-shadow: 0 0 30px rgba(34, 211, 238, 0.4);">
        <div class="text-cyan-400 text-5xl font-bold mb-3">
         😎 보통 모드
        </div>
        <div class="text-white text-xl mb-3">
         균형 잡힌 난이도
        </div>
        <div class="grid grid-cols-2 gap-4 text-left text-gray-300 text-lg">
         <div>
          • 적 체력: 보통
         </div>
         <div>
          • 적 이동 속도: 보통
         </div>
         <div>
          • 적 공격력: 보통
         </div>
         <div>
          • 적 생성 속도: 보통
         </div>
        </div></button> <!-- Hard Mode --> <button id="hardModeBtn" class="difficulty-btn pointer-events-auto cursor-pointer bg-gradient-to-r from-red-600 to-orange-700 hover:from-red-500 hover:to-orange-600 p-8 rounded-xl border-2 border-red-400 transition-all duration-300 hover:scale-105" style="box-shadow: 0 0 30px rgba(239, 68, 68, 0.4);">
        <div class="text-red-400 text-5xl font-bold mb-3">
         😈 하드 모드
        </div>
        <div class="text-white text-xl mb-3">
         도전적인 게임 플레이
        </div>
        <div class="grid grid-cols-2 gap-4 text-left text-gray-300 text-lg">
         <div>
          • 적 체력: 매우 높음
         </div>
         <div>
          • 적 이동 속도: 매우 빠름
         </div>
         <div>
          • 적 공격력: 매우 강함
         </div>
         <div>
          • 적 생성 속도: 매우 빠름
         </div>
        </div></button>
      </div><button id="backFromDifficultyBtn" class="bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-500 hover:to-gray-600 text-white px-10 py-4 rounded-lg text-2xl font-bold pointer-events-auto cursor-pointer transition-all duration-300 border-2 border-gray-500"> ← 뒤로 가기 </button>
     </div>
    </div>
   </div><!-- Start Screen -->
   <div id="startScreen" class="absolute top-0 left-0 w-full h-full bg-black bg-opacity-95 overflow-y-auto" style="z-index: 20;">
    <div class="flex items-center justify-center min-h-full py-12">
     <div class="bg-gradient-to-br from-cyan-900 to-black p-12 rounded-2xl border-2 border-cyan-400 text-center max-w-3xl" style="backdrop-filter: blur(20px);">
      <div class="text-cyan-400 text-7xl font-bold mb-6 tracking-wider" style="text-shadow: 0 0 30px rgba(34, 211, 238, 0.8);">
       TACTICAL STRIKE
      </div>
      <div class="text-gray-300 text-2xl mb-8">
       전투 FPS 슈팅 게임
      </div><!-- How to Play -->
      <div class="bg-black bg-opacity-50 rounded-lg p-6 mb-8 text-left">
       <div class="text-yellow-400 text-3xl font-bold mb-4 text-center">
        🎮 게임 방법
       </div>
       <div class="grid grid-cols-2 gap-6 mb-6">
        <div>
         <div class="text-cyan-400 text-xl font-bold mb-2">
          🎮 조작법
         </div>
         <div class="text-gray-300 text-base space-y-1">
          <div>
           • <span class="text-white font-bold">WASD</span> - 이동
          </div>
          <div>
           • <span class="text-white font-bold">마우스</span> - 조준
          </div>
          <div>
           • <span class="text-white font-bold">클릭</span> - 발사
          </div>
          <div>
           • <span class="text-white font-bold">R</span> - 재장전
          </div>
         </div>
        </div>
        <div>
         <div class="text-red-400 text-xl font-bold mb-2">
          ⚔️ 무기 시스템
         </div>
         <div class="text-gray-300 text-base space-y-1">
          <div>
           • 총알을 전부 쓰면 <span class="text-purple-400">레벨 업!</span>
          </div>
          <div>
           • 구매한 무기 중 선택 가능
          </div>
          <div>
           • 레벨이 높을수록 적이 강해짐
          </div>
         </div>
        </div>
       </div>
       <div class="border-t border-gray-700 pt-4">
        <div class="text-green-400 text-xl font-bold mb-2">
         💎 아이템
        </div>
        <div class="grid grid-cols-2 gap-4 text-gray-300 text-base">
         <div>
          <div class="text-green-400">
           🏥 체력 팩
          </div>
          <div>
           적 처치 시 15% 확률로 드롭
          </div>
          <div class="text-sm text-gray-400">
           HP +35 회복
          </div>
         </div>
         <div>
          <div class="text-blue-400">
           💨 속도 버프
          </div>
          <div>
           이동 속도 50% 증가
          </div>
          <div class="text-sm text-gray-400">
           10초간 지속
          </div>
         </div>
         <div>
          <div class="text-red-400">
           🔥 공격력 버프
          </div>
          <div>
           공격력 2배 증가
          </div>
          <div class="text-sm text-gray-400">
           10초간 지속
          </div>
         </div>
         <div>
          <div class="text-yellow-400">
           🛡️ 실드 버프
          </div>
          <div>
           받는 피해 50% 감소
          </div>
          <div class="text-sm text-gray-400">
           10초간 지속
          </div>
         </div>
         <div>
          <div class="text-purple-400">
           💥 3연발 버프 (40%)
          </div>
          <div>
           한 번에 3발 발사
          </div>
          <div class="text-sm text-gray-400">
           10초간 지속
          </div>
         </div>
         <div>
          <div class="text-pink-400">
           🎯 2연발 버프 (40%)
          </div>
          <div>
           한 번에 2발 발사
          </div>
          <div class="text-sm text-gray-400">
           10초간 지속
          </div>
         </div>
        </div>
       </div>
      </div>
      <div class="mb-4 bg-black bg-opacity-50 rounded-lg p-3 inline-block">
       <div class="text-yellow-400 text-xl font-bold">
        💰 보유 코인: <span id="mainMenuCoins">0</span>
       </div>
      </div>
      <div class="flex gap-4 justify-center flex-wrap"><button id="startGameBtn" class="bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-400 hover:to-blue-500 text-white px-12 py-4 rounded-lg text-3xl font-bold pointer-events-auto cursor-pointer transition-all duration-300 tracking-wider border-2 border-cyan-400" style="box-shadow: 0 0 30px rgba(34, 211, 238, 0.6);"> 게임 시작 </button> <button id="weaponShopBtn" class="bg-gradient-to-r from-yellow-500 to-orange-600 hover:from-yellow-400 hover:to-orange-500 text-white px-12 py-4 rounded-lg text-3xl font-bold pointer-events-auto cursor-pointer transition-all duration-300 tracking-wider border-2 border-yellow-400" style="box-shadow: 0 0 30px rgba(234, 179, 8, 0.6);"> 🏪 무기 상점 </button> <button id="customizeBtn" class="bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-400 hover:to-pink-500 text-white px-12 py-4 rounded-lg text-3xl font-bold pointer-events-auto cursor-pointer transition-all duration-300 tracking-wider border-2 border-purple-400" style="box-shadow: 0 0 30px rgba(168, 85, 247, 0.6);"> 캐릭터 꾸미기 </button> <button id="viewRankingsBtn" class="bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-400 hover:to-emerald-500 text-white px-12 py-4 rounded-lg text-3xl font-bold pointer-events-auto cursor-pointer transition-all duration-300 tracking-wider border-2 border-green-400" style="box-shadow: 0 0 30px rgba(34, 197, 94, 0.6);"> 🏆 명예의 전당 </button>
      </div>
      <!-- Credits -->
      <div class="mt-8 flex justify-center">
       <a href="https://github.com/gguatit/" target="_blank" class="pointer-events-auto cursor-pointer bg-gradient-to-r from-green-600 to-emerald-700 hover:from-green-500 hover:to-emerald-600 px-8 py-4 rounded-xl border-2 border-green-400 transition-all duration-300 hover:scale-105" style="box-shadow: 0 0 25px rgba(34, 197, 94, 0.5); backdrop-filter: blur(10px);">
        <div class="flex items-center justify-center gap-2">
         <span class="text-white text-lg font-semibold">✨ Special Thanks to</span>
         <span class="text-yellow-300 font-bold text-xl">
          Kalpha_Dev
         </span>
        </div>
       </a>
      </div>
     </div>
    </div>
   </div><!-- Rankings Screen -->
   <div id="rankingsScreen" class="hidden absolute top-0 left-0 w-full h-full bg-black bg-opacity-95 overflow-y-auto" style="z-index: 20;">
    <div class="flex items-center justify-center min-h-full py-12">
     <div class="bg-gradient-to-br from-green-900 to-black p-12 rounded-2xl border-2 border-green-500 text-center max-w-4xl" style="backdrop-filter: blur(20px);">
      <div class="text-green-400 text-7xl font-bold mb-6 tracking-wider" style="text-shadow: 0 0 30px rgba(34, 197, 94, 0.8);">
       🏆 명예의 전당
      </div><!-- Difficulty Tabs -->
      <div class="flex gap-4 justify-center mb-8"><button id="easyTab" class="difficulty-tab pointer-events-auto cursor-pointer px-8 py-3 rounded-lg text-2xl font-bold transition-all duration-300 bg-green-600 border-2 border-green-400 text-white"> 😊 이지 </button> <button id="normalTab" class="difficulty-tab pointer-events-auto cursor-pointer px-8 py-3 rounded-lg text-2xl font-bold transition-all duration-300 bg-gray-700 border-2 border-gray-600 text-gray-300"> 😎 보통 </button> <button id="hardTab" class="difficulty-tab pointer-events-auto cursor-pointer px-8 py-3 rounded-lg text-2xl font-bold transition-all duration-300 bg-gray-700 border-2 border-gray-600 text-gray-300"> 😈 하드 </button>
      </div><!-- Rankings List -->
      <div class="bg-black bg-opacity-50 rounded-lg p-6 border border-gray-700 mb-8">
       <div id="mainRankingsList" class="text-left"><!-- Rankings will be inserted here -->
       </div>
      </div><button id="backFromRankingsBtn" class="bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-500 hover:to-gray-600 text-white px-10 py-4 rounded-lg text-2xl font-bold pointer-events-auto cursor-pointer transition-all duration-300 border-2 border-gray-500"> ← 뒤로 가기 </button>
     </div>
    </div>
   </div><!-- Mobile Controls -->
   <div id="mobileControls" class="hidden absolute bottom-0 left-0 w-full h-full pointer-events-none" style="z-index: 15;"><!-- Left Joystick (Movement) -->
    <div class="absolute bottom-8 left-8 pointer-events-auto">
     <div id="leftJoystickBase" class="relative w-32 h-32 bg-gray-800 bg-opacity-50 rounded-full border-2 border-cyan-400">
      <div id="leftJoystickKnob" class="absolute w-16 h-16 bg-cyan-400 bg-opacity-70 rounded-full" style="left: 50%; top: 50%; transform: translate(-50%, -50%); box-shadow: 0 0 20px rgba(34, 211, 238, 0.6);"></div>
     </div>
     <div class="text-center text-cyan-400 text-sm mt-2 font-bold">
      이동
     </div>
    </div><!-- Right Joystick (Aim/Shoot) -->
    <div class="absolute bottom-8 right-8 pointer-events-auto">
     <div id="rightJoystickBase" class="relative w-32 h-32 bg-gray-800 bg-opacity-50 rounded-full border-2 border-red-400">
      <div id="rightJoystickKnob" class="absolute w-16 h-16 bg-red-400 bg-opacity-70 rounded-full" style="left: 50%; top: 50%; transform: translate(-50%, -50%); box-shadow: 0 0 20px rgba(239, 68, 68, 0.6);"></div>
     </div>
     <div class="text-center text-red-400 text-sm mt-2 font-bold">
      조준/발사
     </div>
    </div><!-- Reload Button -->
    <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 pointer-events-auto"><button id="mobileReloadBtn" class="bg-purple-600 bg-opacity-70 text-white px-6 py-3 rounded-full text-xl font-bold border-2 border-purple-400 cursor-pointer" style="box-shadow: 0 0 20px rgba(168, 85, 247, 0.6);"> R </button>
    </div>
   </div><!-- Game Over Screen -->
   <div id="gameOver" class="hidden absolute top-0 left-0 w-full h-full bg-black bg-opacity-90" style="z-index: 20; overflow-y: auto;">
    <div class="flex items-center justify-center min-h-full py-12">
     <div class="bg-gradient-to-br from-gray-900 to-black p-12 rounded-2xl border-2 border-red-500 text-center max-w-2xl" style="backdrop-filter: blur(20px);">
      <div class="text-red-500 text-7xl font-bold mb-4 tracking-wider" style="text-shadow: 0 0 20px rgba(239, 68, 68, 0.5);">
       사망
      </div>
      <div class="text-gray-400 text-2xl mb-3 tracking-wide">
       최종 기록
      </div>
      <div class="mb-4">
       <div id="difficultyBadge" class="inline-block px-6 py-2 rounded-full text-xl font-bold mb-3"></div>
      </div>
      <div class="mb-6">
       <div class="text-yellow-400 text-2xl mb-1">
        처치
       </div>
       <div class="text-white text-7xl font-bold" id="finalKills">
        0
       </div>
      </div><!-- Name Input -->
      <div class="mb-6">
       <div class="text-white text-2xl mb-3">
        이름을 입력하세요
       </div><input type="text" id="playerNameInput" maxlength="15" placeholder="플레이어 이름" class="pointer-events-auto bg-gray-800 border-2 border-gray-600 rounded-lg px-4 py-3 text-white text-center text-2xl w-80 focus:border-cyan-400 focus:outline-none">
      </div>
      <div id="duplicateNameWarning" class="hidden mb-4 bg-yellow-900 bg-opacity-50 border-2 border-yellow-400 rounded-lg p-4">
       <div class="text-yellow-400 text-2xl font-bold mb-3">
        ⚠️ 같은 이름이 있습니다
       </div>
       <div class="text-white text-lg mb-4">
        기록을 갱신하시겠습니까?
       </div>
       <div class="flex gap-3 justify-center"><button id="updateRecordBtn" class="bg-green-600 hover:bg-green-500 text-white px-6 py-3 rounded-lg text-lg font-bold pointer-events-auto cursor-pointer transition-all duration-300"> 네, 갱신합니다 </button> <button id="keepBothBtn" class="bg-gray-600 hover:bg-gray-500 text-white px-6 py-3 rounded-lg text-lg font-bold pointer-events-auto cursor-pointer transition-all duration-300"> 아니오, 둘 다 유지 </button>
       </div>
      </div>
      <div class="flex gap-3 justify-center mb-4"><button id="saveScoreBtn" class="bg-gradient-to-r from-green-500 to-green-600 hover:from-green-400 hover:to-green-500 text-white px-8 py-4 rounded-lg text-xl font-bold pointer-events-auto cursor-pointer transition-all duration-300 tracking-wider border-2 border-green-400" style="box-shadow: 0 0 20px rgba(34, 197, 94, 0.4);"> 기록 저장 </button> <button id="restartBtn" class="bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-400 hover:to-blue-500 text-white px-8 py-4 rounded-lg text-xl font-bold pointer-events-auto cursor-pointer transition-all duration-300 tracking-wider border-2 border-cyan-400" style="box-shadow: 0 0 20px rgba(34, 211, 238, 0.4);"> 다시 시작 </button>
      </div><button id="backToHomeBtn" class="bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-400 hover:to-purple-500 text-white px-8 py-4 rounded-lg text-xl font-bold pointer-events-auto cursor-pointer transition-all duration-300 tracking-wider border-2 border-purple-400 mb-6" style="box-shadow: 0 0 20px rgba(168, 85, 247, 0.4);"> 🏠 홈으로 돌아가기 </button> <!-- Rankings Display -->
      <div class="mt-8 bg-black bg-opacity-50 rounded-lg p-6 border border-gray-700">
       <div class="text-yellow-400 text-3xl font-bold mb-4">
        🏆 명예의 전당
       </div>
       <div id="rankingsList" class="text-left"><!-- Rankings will be inserted here -->
       </div>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <!-- JavaScript Files -->
  <!-- 클래스 파일들 -->
  <script src="js/classes/Particle.js"></script>
  <script src="js/classes/HealthPack.js"></script>
  <script src="js/classes/PowerUp.js"></script>
  <script src="js/classes/Explosion.js"></script>
  <script src="js/classes/Bullet.js"></script>
  <script src="js/classes/Enemy.js"></script>
  <script src="js/classes/Player.js"></script>
  
  <!-- 유틸리티 파일들 -->
  <script src="js/utils/config.js"></script>
  <script src="js/utils/ui.js"></script>
  <script src="js/utils/input.js"></script>
  <script src="js/utils/collision.js"></script>
  <script src="js/utils/rankings.js"></script>
  <script src="js/utils/shop.js"></script>
  <script src="js/utils/customization.js"></script>
  
  <!-- 메인 게임 로직 -->
  <script src="js/game.js"></script>
  <script src="js/main.js"></script>
</body>
</html>
